name: Generate Connectors from OpenAPI Specs

on:
  workflow_dispatch:
  # Optional: run weekly
  # schedule:
  #   - cron: "0 0 * * 0"

jobs:
  generate-stripe-connector:
    name: Generate Stripe Connector
    uses: ./.github/workflows/auto_generate_connector_template.yml
    secrets: inherit
    with:
      openapi-url: https://raw.githubusercontent.com/stripe/openapi/master/openapi/spec3.yaml
      ballerina-version: "2201.13.0"
      quiet-mode: true

  generate-twilio-connector:
    name: Generate Twilio Connector
    uses: ./.github/workflows/auto_generate_connector_template.yml
    secrets: inherit
    with:
      openapi-url: https://raw.githubusercontent.com/twilio/twilio-oai/main/spec/json/twilio_api_v2010.json
      ballerina-version: "2201.13.0"
      quiet-mode: true

  generate-openai-connector:
    name: Generate OpenAI Connector
    uses: ./.github/workflows/auto_generate_connector_template.yml
    secrets: inherit
    with:
      openapi-url: https://raw.githubusercontent.com/openai/openai-openapi/main/openapi.yaml
      ballerina-version: "2201.13.0"
      quiet-mode: true
